---
ssh_service: sshd
openldap_server_app_path: "/etc/openldap"
openldap_server_cert_path: "{{ openldap_server_app_path }}/certs"
openldap_ldap_pubkey_wrapper: /usr/local/bin/ssh-ldap-pubkey-wrapper
openldap_ldap_pubkey_user: root
openldap_server_user: ldap
openldap_server_group: ldap
openldap_client_user: root
openldap_client_group: root
openldap_nslcd_user: nslcd
openldap_nslcd_group: ldap

# Authselect changes for CentOS 8
openldap_authselect_nslcd_path: /etc/authselect/custom/nslcd
openldap_authselect_sssd_path: /usr/share/authselect/default/sssd

openldap_authselect_files:
  - "{{ openldap_authselect_nslcd_path }}/fingerprint-auth"
  - "{{ openldap_authselect_nslcd_path }}/password-auth"
  - "{{ openldap_authselect_nslcd_path }}/smartcard-auth"
  - "{{ openldap_authselect_nslcd_path }}/system-auth"
  - "{{ openldap_authselect_nslcd_path }}/nsswitch.conf"
  - "{{ openldap_authselect_nslcd_path }}/fingerprint-auth"

openldap_server_pkgs:
  - epel-release
  - openldap
  - openldap-clients
  - openldap-devel
  - python3-libselinux
  - openssl
  - openssl-devel
  - python3-pip
  - python3-pexpect
  - gcc
  - rpcbind
  - python3-devel

openldap_client_pkgs:
  - epel-release
  - nss-pam-ldapd
  - nscd
  - python3-devel
  - gcc
  - openldap-devel
  - gcc
  - cyrus-sasl
  - cyrus-sasl-devel
  - python3-pip
  - openssh-ldap
  - openssh-ldap-authkeys
  - rpcbind
  - python3-ldap3
  - python3-ldap
  - oddjob-mkhomedir
  - oddjob

openldap_python_pkgs:
  - name: ssh-ldap-pubkey
    state: latest

openldap_autofs_defaults_file: /etc/sysconfig/autofs
openldap_autofs_packages:
  - autofs

